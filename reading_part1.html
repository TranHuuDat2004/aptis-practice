<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reading - Part 1</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@400;500;700&display=swap" rel="stylesheet">
</head>
<body>
    <header id="header-placeholder"></header>

    <div class="content-pusher">
        <div class="container">
            <div class="page-intro">
                <h1>Reading - Part 1</h1>
                <p>H·ªçc thu·ªôc c√°c "Key" ƒë√°p √°n</p>
            </div>

            <div class="explanation-box">
                <h3>üí° Ph∆∞∆°ng ph√°p h·ªçc Part 1</h3>
                <p>M·ªói th·∫ª d∆∞·ªõi ƒë√¢y l√† m·ªôt b·ªô 5 ƒë√°p √°n ƒë√∫ng cho m·ªôt b√†i ƒë·ªçc. M·ª•c ti√™u c·ªßa b·∫°n l√† h·ªçc thu·ªôc l√≤ng chu·ªói 5 t·ª´ n√†y b·∫±ng c√°ch s·ª≠ d·ª•ng c√¢u chuy·ªán g·ª£i nh·ªõ ƒëi k√®m.</p>
            </div>

            <main id="key-container" class="key-grid">
                <!-- C√°c Flashcard h·ªçc key s·∫Ω ƒë∆∞·ª£c ch√®n v√†o ƒë√¢y -->
            </main>
        </div>
        <footer id="footer-placeholder"></footer>
    </div>
    
    <script src="js/main.js"></script>
    <script src="js/data-reading.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const keyContainer = document.getElementById('key-container');
            const questions = readingData.part1;

            if (!questions || questions.length === 0) {
                keyContainer.innerHTML = `<p class="error">Kh√¥ng c√≥ d·ªØ li·ªáu cho Part 1.</p>`;
                return;
            }

            questions.forEach((item, index) => {
                const card = document.createElement('div');
                card.className = 'key-card';

                let keyItems = '';
                item.keys.forEach((key, i) => {
                    keyItems += `<li><span class="key-number">${i + 1}</span>${key}</li>`;
                });

                card.innerHTML = `
                    <h3>${item.title}</h3>
                    <ul class="key-list">${keyItems}</ul>
                    <button class="show-story-btn">Xem c√¢u chuy·ªán g·ª£i nh·ªõ</button>
                    <div class="story-section" style="display: none;">
                        <p>${item.story}</p>
                    </div>
                `;
                keyContainer.appendChild(card);
            });

            keyContainer.addEventListener('click', function(e) {
                if (e.target.classList.contains('show-story-btn')) {
                    const storySection = e.target.nextElementSibling;
                    const isVisible = storySection.style.display === 'block';
                    storySection.style.display = isVisible ? 'none' : 'block';
                    e.target.textContent = isVisible ? 'Xem c√¢u chuy·ªán g·ª£i nh·ªõ' : '·∫®n c√¢u chuy·ªán';
                }
            });
        });
    </script>
</body>
</html>